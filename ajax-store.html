<!DOCTYPE html>
<html>
<head>
    <title>Online Store</title>
    <link rel="shortcut icon" href="about:blank">

    <style>

        table {
            background-color: lightblue;
            border: 3px solid black;
            margin-bottom: 30px;
            padding: 20px;
        }
        tr {
            font-weight: bold;
        }
        th {
            text-decoration: underline;
        }
        td {


        }

    </style>
</head>
<body>

<h1>My Tool Store</h1>

<table id="products">
    <thead>
        <tr>
            <th>Title</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Categories</th>
        </tr>
    </thead>
    <tbody id="insertProducts"></tbody>
</table>
<button>update</button>
<script src="js/jquery-2.2.4.min.js"></script>
<!--<script-->
        <!--src="https://code.jquery.com/jquery-2.2.4.js"-->
        <!--integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="-->
        <!--crossorigin="anonymous"></script>-->

<script>


    // TODO: Create an ajax GET request for /data/inventory.json
    $(document).ready(function() {

        "use strict";
        var inventory = [
            {
                "title": "Hammer",
                "quantity": 25,
                "categories": [
                    "tool"
                ],
                "price": 20
            }, {
                "title": "Drill",
                "quantity": 5,
                "categories": [
                    "tool",
                    "powered"
                ],
                "price": 100
            }, {
                "title": "Mower",
                "quantity": 5,
                "categories": [
                    "tool",
                    "gas",
                    "outdoor"
                ],
                "price": 200
            }, {
                "title": "Screwdrivers",
                "quantity": 25,
                "categories": [
                    "tool"
                ],
                "price": 10
            }, {
                "title": "Saw",
                "quantity": 50,
                "categories": [
                    "tool"
                ],
                "price": 30
            }
        ];

        // make the request and call the buildHTML function
        // function updatePage() {
        //     var ajaxRequest =$.ajax("./data/inventory.json");
        //
        //     ajaxRequest.done(function(data) {
        //         console.log(data)
        //     });
        //
        //     ajaxRequest.fail(function(status) {
        //         console.log(status);
        //     });
        //
        // }

        // $("update").click(function(){
        //     $.getJSON("./data/inventory.json", function(result){
        //         $.each(result, function(i, field){
        //             $("products").append(field + " ");
        //         });
        //     });
        // });



    // TODO: Take the data from inventory.json and append it to the products table
    //       HINT: Your data should come back as a JSON object; use console.log() to inspect
    //             its contents and fields
    //       HINT: You will want to target #insertProducts for your new HTML elements

        function buildHTML(inventory) {
            var html = "";
            html += "<tr>";
            console.log(inventory);
            inventory.forEach(function(products, index){
                console.log(products);
                html += "<tr>";
                html += "<td>" + products.title + "</td>";
                html += "<td>" + products.quantity + "</td>";
                html += "<td>" + products.price + "</td>";
                html += "<td>" + products.categories + "</td>";
                html += "</tr>";
            });

            console.log(html);

            $('#insertProducts').html(html);
        }

        // add click event
         //$('#update').click(updatePage);

        buildHTML(inventory);

        //updatePage();

    });

</script>

</body>
</html>
